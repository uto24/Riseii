<!-- templates/tasks.html এর সম্পূর্ণ নতুন কোড -->
<!doctype html>
<html lang="bn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>সকল কাজ - টাস্ক অ্যাপ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        /* আপনার tasks.html এর জন্য সুন্দর CSS এখানে থাকবে */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #f0f2f5; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; }
        .page-header { text-align: center; margin-bottom: 30px; }
        .page-header h1 { color: #1877f2; }
        .back-link { display: inline-block; margin-bottom: 20px; color: #1877f2; text-decoration: none; font-weight: 600; }
        .task-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .task-card { background: white; border-radius: 12px; padding: 20px; text-decoration: none; color: inherit; display: flex; flex-direction: column; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: all 0.2s ease-in-out; }
        .task-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .task-card h3 { margin: 0 0 10px 0; font-size: 18px; }
        .task-card p { font-size: 14px; color: #606770; flex-grow: 1; }
        .task-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ebee; }
        .task-reward { font-weight: 700; font-size: 18px; color: #36a420; }
        .no-tasks { text-align: center; padding: 40px; background: white; border-radius: 12px; color: #8a8d91; }
    </style>
</head>
<body>
    <div class="container">
        <a href="{{ url_for('dashboard') }}" class="back-link"><i class="fa-solid fa-arrow-left"></i> ড্যাশবোর্ডে ফিরে যান</a>
        <div class="page-header">
            <h1>সকল উপলব্ধ কাজ</h1>
            <p>নিচের তালিকা থেকে আপনার পছন্দের কাজ বেছে নিন এবং উপার্জন শুরু করুন।</p>
        </div>

        <div class="responsive-ad-container">
    <div class="earn" style="margin: 0;">
    <script type="text/javascript">
	atOptions = {
		'key' : 'f62367e86bf7296ea58f8b60f94e1218',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/f62367e86bf7296ea58f8b60f94e1218/invoke.js"></script>
       </div>
</div>
        <!-- Adsterra Sticky Footer Ad Code - Start -->
<style>
    /* Main container for the sticky ad */
    .adsterra-sticky-footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #f7f7f7; /* A light background to distinguish from content */
        z-index: 10000; /* High z-index to stay on top */
        box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 5px 0;
        min-height: 60px; /* Minimum height to accommodate the ad and close button */
        transform: translateY(100%); /* Initially hidden below the screen */
        transition: transform 0.5s ease-in-out; /* Smooth slide-up animation */
    }

    /* Class to trigger the slide-up animation */
    .adsterra-sticky-footer.ad-visible {
        transform: translateY(0);
    }

    /* The area where the ad script will be placed */
    .adsterra-ad-content {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    /* The close button for the ad */
    .adsterra-ad-close {
        position: absolute;
        top: -15px; /* Positioned slightly above the ad bar */
        right: 15px;
        width: 30px;
        height: 30px;
        background-color: rgba(0, 0, 0, 0.7);
        color: #ffffff;
        border: 2px solid #ffffff;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: Arial, sans-serif;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
        line-height: 1;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    /* Hide on very small screens if needed */
    @media (max-width: 320px) {
        .adsterra-sticky-footer {
            display: none; /* Example: hide on very narrow screens */
        }
    }
</style>

<div id="adsterraStickyFooter" class="adsterra-sticky-footer">
    <!-- Close Button -->
    <div id="adsterraAdClose" class="adsterra-ad-close" title="Close Ad">×</div>
    
    <!-- Ad Content Area -->
    <div class="adsterra-ad-content">
        <div class="responsive-ad-container">
    <div class="earn" style="margin: 0;">
    <script type="text/javascript">
	atOptions = {
		'key' : 'f62367e86bf7296ea58f8b60f94e1218',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/f62367e86bf7296ea58f8b60f94e1218/invoke.js"></script>
       </div>
</div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const adContainer = document.getElementById('adsterraStickyFooter');
        const closeButton = document.getElementById('adsterraAdClose');

        // Check if the elements exist on the page
        if (!adContainer || !closeButton) {
            return;
        }

        // --- Show the ad with a delay ---
        // Ad will slide up after 3 seconds of page load
        setTimeout(() => {
            adContainer.classList.add('ad-visible');
        }, 3000); // 3000ms = 3 seconds

        // --- Close button functionality ---
        closeButton.addEventListener('click', function() {
            adContainer.style.display = 'none';
        });
    });
</script>
<!-- Adsterra Sticky Footer Ad Code - End --><style>
  /* 
    The main container for the widget. 
    The unique class "unique-telegram-widget" prevents style conflicts.
  */
  .unique-telegram-widget {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000; /* Ensures it's on top of most other elements */
  }

  /* The link/button itself */
  .unique-telegram-widget a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    background-color: #0088cc; /* Official Telegram blue */
    color: #ffffff; /* Icon color */
    border-radius: 50%;
    text-decoration: none;
    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease-in-out;
    
    /* The pulse animation */
    animation: telegram-pulse 2s infinite;
  }

  /* The SVG icon inside the button */
  .unique-telegram-widget svg {
    width: 32px;
    height: 32px;
    fill: currentColor; /* Inherits the color from the 'a' tag */
  }

  /* Hover effect for the button */
  .unique-telegram-widget a:hover {
    transform: scale(1.1);
    box-shadow: 2px 2px 15px rgba(0, 0, 0, 0.3);
    animation: none; /* Stop the pulse animation on hover */
  }

  /* The tooltip text that appears on hover */
  .unique-telegram-widget .widget-tooltip {
    position: absolute;
    right: 75px; /* Position it to the left of the button */
    padding: 6px 12px;
    background-color: #212121;
    color: #ffffff;
    border-radius: 6px;
    font-size: 14px;
    font-family: sans-serif;
    white-space: nowrap; /* Keep the text on one line */
    
    /* Initially hidden */
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.3s, visibility 0.3s;
  }

  /* Show the tooltip on hover */
  .unique-telegram-widget a:hover .widget-tooltip {
    visibility: visible;
    opacity: 1;
  }

  /* The keyframes for the pulse animation */
  @keyframes telegram-pulse {
    0% {
      transform: scale(0.95);
      box-shadow: 0 0 0 0 rgba(0, 136, 204, 0.7);
    }
    70% {
      transform: scale(1);
      box-shadow: 0 0 0 10px rgba(0, 136, 204, 0);
    }
    100% {
      transform: scale(0.95);
      box-shadow: 0 0 0 0 rgba(0, 136, 204, 0);
    }
  }
</style>

<div class="unique-telegram-widget">
  <!-- 
    IMPORTANT: Replace "YOUR_TELEGRAM_USERNAME" with your actual Telegram username.
    The link opens in a new tab for better user experience.
  -->
  <a href="https://t.me/websitesupportr" target="_blank" rel="noopener noreferrer" aria-label="Chat on Telegram">
    
    <!-- Tooltip Text -->
    <span class="widget-tooltip">Chat on Telegram</span>
    
    <!-- Embedded SVG Icon for Telegram -->
    <i class="fab fa-telegram"></i>

  </a>
</div>
        <div class="task-grid">
            {% if available_tasks %}
                {% for task in available_tasks %}
                    <a href="{{ url_for('view_task', task_id=task.id) }}" class="task-card">
                        <div>
                            <h3>{{ task.title }}</h3>
                            <p>{{ task.description | truncate(80) }}</p> <!-- বিবরণ ছোট করে দেখানো হলো -->
                        </div>
                        <div class="task-footer">
                            <span class="task-reward">৳ {{ "%.2f"|format(task.reward) }}</span>
                            <span>কাজ করুন <i class="fa-solid fa-arrow-right"></i></span>
                        </div>
                    </a>
                {% endfor %}
            {% else %}
                <p class="no-tasks">দারুণ! আপনি সব কাজ সম্পন্ন করে ফেলেছেন। নতুন কাজের জন্য পরে আবার আসুন।</p>
            {% endif %}
        </div>

                                                                                                    <div class="responsive-ad-container">
    <div class="earn" style="margin: 0;">
    <script type="text/javascript">
	atOptions = {
		'key' : 'f62367e86bf7296ea58f8b60f94e1218',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/f62367e86bf7296ea58f8b60f94e1218/invoke.js"></script>
       </div>
</div>
    </div>
</body>
</html>
