<!doctype html>
<html lang="bn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>সকল কাজ - টাস্ক অ্যাপ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <!-- সেন্ট্রাল CSS লিঙ্ক -->
    <style>

       
      @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600&display=swap');
         * {
           margrin: 0;
            padding: 0;
        }
        body { 
            font-family: 'Hind Siliguri', sans-serif; 
            background-color: #f0f2f5; 
            margin: 0; 
            padding: 20px; 
            display: flex;
            justify-content: center;
        }

	    .responsive-ad-container { display: flex; justify-content: center; align-items: center; width: 100%; overflow: hidden; height: auto; min-height: 60px; margin: 2%; width: 90%;}
        .page-header { text-align: center; margin-bottom: 30px; }
        .page-header h1 { color: #1877f2; }
        .task-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .task-card { background: white; border-radius: 12px; padding: 20px; text-decoration: none; color: inherit; display: flex; flex-direction: column; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: all 0.2s ease-in-out; }
        .task-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .task-card h3 { margin: 0 0 10px 0; font-size: 18px; }
        .task-card p { font-size: 14px; color: #606770; flex-grow: 1; }
        .task-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ebee; }
        .task-reward { font-weight: 700; font-size: 18px; color: #36a420; }
        .no-tasks { text-align: center; padding: 40px; background: white; border-radius: 12px; color: #8a8d91; }
        .ad-slot-in-grid { grid-column: 1 / -1; display: flex; justify-content: center; align-items: center; padding: 20px 0; }

        /* --- নতুন কন্টেন্ট সেকশনের স্টাইল --- */
        .how-to-work { background: #e9f5ff; border: 1px solid #b3e5fc; border-radius: 12px; padding: 25px; margin-bottom: 30px; }
        .how-to-work h3 { margin-top: 0; color: #0277bd; }
        .how-to-work ol { padding-left: 20px; }
        .how-to-work li { margin-bottom: 10px; }

        /* --- স্টিকি ফুটার বিজ্ঞাপন (আপনার দেওয়া কোড) --- */
        .adsterra-sticky-footer { position: fixed; bottom: 0; left: 0; width: 100%; background-color: #f7f7f7; z-index: 10000; box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.1); display: flex; justify-content: center; align-items: center; padding: 5px 0; min-height: 60px; transform: translateY(100%); transition: transform 0.5s ease-in-out; }
        .adsterra-sticky-footer.ad-visible { transform: translateY(0); }
        .adsterra-ad-content { display: flex; justify-content: center; align-items: center; }
        .adsterra-ad-close { position: absolute; top: -15px; right: 15px; width: 30px; height: 30px; background-color: rgba(0, 0, 0, 0.7); color: #ffffff; border: 2px solid #ffffff; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 20px; font-weight: bold; cursor: pointer; line-height: 1; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); }

        /* --- টেলিগ্রাম উইজেট (আপনার দেওয়া কোড) --- */
        .unique-telegram-widget { position: fixed; bottom: 30px; right: 30px; z-index: 1000; }
        .unique-telegram-widget a { display: flex; align-items: center; justify-content: center; width: 60px; height: 60px; background-color: #0088cc; color: #ffffff; border-radius: 50%; text-decoration: none; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); transition: all 0.3s ease-in-out; animation: telegram-pulse 2s infinite; }
        .unique-telegram-widget a:hover { transform: scale(1.1); box-shadow: 2px 2px 15px rgba(0, 0, 0, 0.3); animation: none; }
        .unique-telegram-widget .widget-tooltip { position: absolute; right: 75px; padding: 6px 12px; background-color: #212121; color: #ffffff; border-radius: 6px; font-size: 14px; white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s, visibility 0.3s; }
        .unique-telegram-widget a:hover .widget-tooltip { visibility: visible; opacity: 1; }
        @keyframes telegram-pulse { 0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(0, 136, 204, 0.7); } 70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(0, 136, 204, 0); } 100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(0, 136, 204, 0); } }
    </style>
</head>
<body>
    <div class="container">
        <a href="{{ url_for('dashboard') }}" class="back-link" style="color: #0999e0; text-decoration: none;"><i class="fa-solid fa-arrow-left"></i> ড্যাশবোর্ডে ফিরে যান</a>
        
        <div class="page-header">
            <h1>সকল উপলব্ধ কাজ</h1>
            <p>নিচের তালিকা থেকে আপনার পছন্দের কাজ বেছে নিন এবং উপার্জন শুরু করুন।</p>
        </div>
        
        <!-- নতুন কন্টেন্ট সেকশন -->
        <div class="how-to-work card">
            <h3><i class="fa-solid fa-circle-question" style="color: #0277bd;"></i> কিভাবে কাজ করবেন?</h3>
            <ol>
                <li>নিচের তালিকা থেকে আপনার পছন্দের একটি কাজ বেছে নিন।</li>
                <li>কাজের বিবরণে দেওয়া নির্দেশনাগুলো মনোযোগ দিয়ে পড়ুন।</li>
                <li>নির্দেশনা অনুযায়ী কাজটি সম্পন্ন করুন এবং প্রয়োজনীয় প্রমাণ (যেমন: স্ক্রিনশট) জমা দিন।</li>
                <li>আমাদের অ্যাডমিন আপনার কাজ রিভিউ করে অ্যাপ্রুভ করলে আপনার অ্যাকাউন্টে টাকা যোগ হয়ে যাবে!</li>
            </ol>
        </div>
        <div class="responsive-ad-container">
    <div class="earn" style="margin: 0;">
    <script type="text/javascript">
	atOptions = {
		'key' : 'f62367e86bf7296ea58f8b60f94e1218',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/f62367e86bf7296ea58f8b60f94e1218/invoke.js"></script>
       </div>
</div>


        <div class="task-grid">
            {% if available_tasks %}
                <!-- Jinja2 loop ব্যবহার করে প্রতি ৬টি টাস্কের পর বিজ্ঞাপন দেখানো হবে -->
                {% for task in available_tasks %}
                    
                    <!-- টাস্ক কার্ড -->
                    <a href="{{ url_for('view_task', task_id=task.id) }}" class="task-card">
                        <div>
                            <h3>{{ task.title }}</h3>
                            <p>{{ task.description | truncate(80) }}</p>
                        </div>
                        <div class="task-footer">
                            <span class="task-reward">৳ {{ "%.2f"|format(task.reward) }}</span>
                            <span>কাজ করুন <i class="fa-solid fa-arrow-right"></i></span>
                        </div>
                    </a>

                    <!-- loop.index হলো বর্তমান আইটেমের সিরিয়াল (১ থেকে শুরু) -->
                    <!-- loop.index % 6 == 0 মানে হলো এটি ৬ষ্ঠ, ১২শ, ১৮শ ইত্যাদি আইটেম -->
                    {% if loop.index % 6 == 0 and not loop.last %}
                        <div class="ad-slot-in-grid">
                            <!-- এখানে আপনার ইন-গ্রিড বিজ্ঞাপন কোডটি রাখুন -->
                            <script type="text/javascript">
                                atOptions = {
                                    'key' : 'f62367e86bf7296ea58f8b60f94e1218',
                                    'format' : 'iframe',
                                    'height' : 60,
                                    'width' : 468,
                                    'params' : {}
                                };
                            </script>
                            <script type="text/javascript" src="//www.highperformanceformat.com/f62367e86bf7296ea58f8b60f94e1218/invoke.js"></script>
                        </div>
                    {% endif %}

                {% endfor %}
            {% else %}
                <p class="no-tasks">দারুণ! আপনি সব কাজ সম্পন্ন করে ফেলেছেন। নতুন কাজের জন্য পরে আবার আসুন।</p>
            {% endif %}
        </div>
    </div>

    <!-- স্টিকি ফুটার বিজ্ঞাপন -->
    <div id="adsterraStickyFooter" class="adsterra-sticky-footer">
        <div id="adsterraAdClose" class="adsterra-ad-close" title="Close Ad">×</div>
        <div class="adsterra-ad-content">
            <!-- এখানে আপনার স্টিকি ফুটার বিজ্ঞাপন কোডটি রাখুন -->
            <script type="text/javascript">
                atOptions = {
                    'key' : 'f62367e86bf7296ea58f8b60f94e1218',
                    'format' : 'iframe',
                    'height' : 60,
                    'width' : 468,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/f62367e86bf7296ea58f8b60f94e1218/invoke.js"></script>
        </div>
    </div>

    <!-- টেলিগ্রাম উইজেট -->
    <div class="unique-telegram-widget">
      <a href="https://t.me/websitesupportr" target="_blank" rel="noopener noreferrer" aria-label="Chat on Telegram">
        <span class="widget-tooltip">Chat on Telegram</span>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M248,8C111,8,0,119,0,256S111,504,248,504,496,393,496,256,385,8,248,8Zm121.8,169.9L326.6,359.8c-3.4,8.1-12.2,10.1-18.6,5.1l-84-62.2-41.2,39.6c-4.6,4.4-10.9,4.4-15.6,0l-5.6-5.4c-4.1-3.9-4.7-10.1-1.5-14.7L194.3,212.4,96.5,180.9c-8.8-3.4-9.5-14.1-1.9-18.6l245.9-95.9c7.6-3,15.7,2.1,16.5,10.2Z"/></svg>
      </a>
    </div>
<!-- AdGuard DNS Blocker Detection Script - Start -->

<!-- 1. The CSS for the full-screen blocking overlay -->
<style>
    #dns-blocker-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(20, 20, 20, 0.97); /* Dark overlay */
        z-index: 2147483647; /* Highest z-index to be on top of everything */
        display: none; /* Hidden by default */
        justify-content: center;
        align-items: center;
        text-align: center;
        color: #ffffff;
        font-family: "Segoe UI", Arial, sans-serif;
    }

    #dns-blocker-content {
        max-width: 650px;
        padding: 30px;
    }

    #dns-blocker-content h1 {
        font-size: 2.2rem;
        color: #ff5722; /* Warning color */
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    #dns-blocker-content p {
        font-size: 1.1rem;
        line-height: 1.7;
    }

    #dns-blocker-content .highlight-dns {
        font-weight: bold;
        color: #ffeb3b; /* Highlight color */
        background-color: rgba(255, 235, 59, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
    }
</style>

<!-- 2. The HTML for the overlay message -->
<div id="dns-blocker-overlay">
    <div id="dns-blocker-content">
        <h1>নেটওয়ার্ক ফিল্টারিং শনাক্ত হয়েছে</h1>
        <p>
            মনে হচ্ছে আপনি <span class="highlight-dns">AdGuard DNS</span> বা একই ধরনের কোনো DNS-ভিত্তিক অ্যাড-ব্লকার ব্যবহার করছেন, যা আমাদের ওয়েবসাইটের কিছু অংশকে ব্লক করছে।
        </p>
        <p>
            আমাদের ওয়েবসাইট সঠিকভাবে ব্যবহার করতে, অনুগ্রহ করে আপনার DNS সেটিংস পরিবর্তন করুন অথবা আমাদের সাইটটিকে আপনার ফিল্টার থেকে বাদ দিন (whitelist করুন) এবং পেজটি রিফ্রেশ করুন।
        </p>
    </div>
</div>

<!-- 3. The JavaScript logic for DNS blocker detection -->
<script>
    (function() {
        // This function will try to fetch a resource from a known ad server.
        // If it fails with a network error, it's highly likely a DNS blocker is active.
        async function detectDnsAdBlocker() {
            // A well-known domain that is on virtually all DNS ad-block lists.
            const baitURL = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';

            try {
                // We use 'no-cors' mode to prevent CORS errors from being mistaken for network blocks.
                // We only care if the request itself fails at the network level.
                await fetch(baitURL, {
                    method: 'HEAD', // HEAD is faster as it doesn't download the body
                    mode: 'no-cors',
                    cache: 'no-store' // Don't use a cached result
                });
                
                // If the fetch succeeds (doesn't throw an error), no DNS blocker is active.
                // console.log('DNS check: No blocker detected.');

            } catch (error) {
                // A 'TypeError: Failed to fetch' is the classic sign of a network-level block.
                if (error instanceof TypeError) {
                    // console.error('DNS check: Blocker detected!', error);
                    const overlay = document.getElementById('dns-blocker-overlay');
                    if (overlay) {
                        overlay.style.display = 'flex';
                        document.body.style.overflow = 'hidden'; // Prevent scrolling
                    }
                }
            }
        }

        // Run the detection check when the page content is loaded.
        document.addEventListener('DOMContentLoaded', detectDnsAdBlocker);

    })();
</script>
<!-- AdGuard DNS Blocker Detection Script - End -->
    <!-- JavaScript for Ads and Widgets -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // স্টিকি ফুটার বিজ্ঞাপন দেখানোর জন্য
            const adContainer = document.getElementById('adsterraStickyFooter');
            const closeButton = document.getElementById('adsterraAdClose');
            if (adContainer && closeButton) {
                setTimeout(() => { adContainer.classList.add('ad-visible'); }, 3000);
                closeButton.addEventListener('click', function() { adContainer.style.display = 'none'; });
            }
        });
    </script>
</body>
</html>
